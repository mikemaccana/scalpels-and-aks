doctype html
html
	head
			title ðŸ”ª and ðŸ”«
			meta(charset='utf-8')
			script(src='slides.js')
			link(href='css/styles.css'  rel='stylesheet' type='text/css')
		body
			section.slides.layout-regular.template-default

				article
					p Yaay the projector works
					small You may need to zoom out a little if the text is too big

				article.first
					h1(style="font-size: 256pt; text-transform: uppercase") Scalpels and guns
					h2 Scrape anything with node.js
					br
					h3
						a(href='http://twitter.com/mikemaccana',style="text-decoration: none;") @mikemaccana

				article.plain
					h1 THIS <br>WILL<br> WORK.

				article
					img(src="images/ev-ssl.png")
					h2 <br/>CertSimple does EV
					p Confirms legal entity behind a site
					p Normally a pain in the arse to get.

				article.plain
					h1(style="font-size: 192pt;") CertSimple do EV 40-100x faster than Symantec, GoDaddy, and Comodo.

				article
					h2 We connect to APIs for:
					ul.build
						li Government data for 100M companies in 63 countries
						li 60+ independent data sources
						li Other data sources: DNS, whois, and a CA.

				article
					h1 Problem
					ul.build
						li Some data sources don't have APIs at all
						li API exists, but missing some functionality exposed through UI
						li No webhooks, so no realtime

				article
					p How to scrape anything you want
					p All the things you'll wish you knew earlier

				article
					h1 THE SCALPEL
					p Use this 95% of the time

				article
					h1 LOG IN and SCRAPE

				article
					h2 How to log in - cookies!
					.halves.build
						.half
							p Using plain request:
							code var request = request.defaults({jar: true})

						.half
							p Using superagent:
							code var superagent = require('superagent').agent();

				article
					h1 Why Cheerio?
					ul.build
						li Way smaller and less complex than JSDOM
						li Pure JS, no compilation needed.
						li Familiar

				article
					h1 Complete node scalpel approach

				article
					h2 The scalpel doesn't work on pages generated by JS
					ul.build
						li Single page apps without a 'fastboot' option
						li This monstrosity: http://directwebremoting.org/dwr/index.html
						li JS should be sandboxed - node has require('vm').runInNewContext() but still
						li Best place to simulate a browser is a headless browser

				article
					h1 THE AK47
					p Use this 5% of the time

				article
					q When you absolutely, positively, got to get every datum in the site



				article
					h1 Why Casper?
					ul.build
						li Casper is higher level than PhantomJS
						li PhantomJS folks like Casper
						li SpookyJS (node) isn't maintained

				article
					h2 Someone doesn't want me to scrape!
					ul.build
						li Reconsider
						li Use a modern useragent
						li proxymesh.com - 280s IPs per day
						li Various things on GitHub can defeat CloudFlare

				article
					h1 CASPER REALLY ISN'T NODE OR V8

				article
					h2 Casper is it's own runtime
					ul.build
						li #!/usr/bin/env python starts python
						li #!/usr/bin/env ruby starts ruby
						li #!/usr/bin/env node starts node (v8)
						li #!/usr/bin/env casperjs starts casper (JavaScriptCore)

				article
					h1 CASPER CAN BE A MICROSERVICE

				article
					h1 Follow me.
					h2(style="font-size:60px;") I will tweet storm links to everything now.
					img(src='images/twitter-logo.png', style="height: 260px; width: 300px; margin:100px auto")
					h2
						a(href='http://twitter.com/mikemaccana', target='_blank') @mikemaccana

				article
					h1 Launching something?

				article
					h1 Â£80 quid off CertSimple

				article
					h1 Stickers!
					img(src='images/certsimple-stickers.png')

				article
					h1.big Thanks
					h2 @mikemaccana
					h2 certsimple.com

				article
					h1 Links
					a(href="https://www.npmjs.com/package/request" target=_blank) Request cookies examples
					a(href="https://github.com/visionmedia/superagent/blob/master/test/node/agency.js" target=_blank) Superagent cookie examples
					a(href="https://github.com/cheeriojs/cheerio" target=_blank) Cheerio




